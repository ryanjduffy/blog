---
layout: post
title: 'Enyo Daily #14 - Scroller Fades'
date: 2011-08-10 09:22 -0700
---

<p><p>I found it strange that the generic <a href="https://developer.palm.com/content/api/reference/enyo/enyo-api-reference.html#enyo.Scroller" target="_blank">Scroller </a>control didn't have scroll fades; instead you have to use <a href="https://developer.palm.com/content/api/reference/enyo/enyo-api-reference.html#enyo.FadeScroller" target="_blank">FadeScroller</a>.  Even more troublesome, if you wanted fades on a <a href="https://developer.palm.com/content/api/reference/enyo/enyo-api-reference.html#enyo.SnapScroller" target="_blank">SnapScroller</a>, for example, the framework didn't provide for that.  The solution is easy fortunately (particularly when you steal the code from FadeScroller!).[[MORE]]</p>
<p>The code use is directly adapted from FadeScroller.  I had some issues copying it verbatim but the effect is the same.  There are two steps to getting fades working.</p>
<p>First, you need to create an instance of the <a href="https://developer.palm.com/content/api/reference/enyo/enyo-api-reference.html#enyo.ScrollFades" target="_blank">ScrollFades</a> kind.  I at first tried adding it as a child of Scroller but the fades wouldn't position correctly.  The cause was that as a child of the scroller client (inner wrapper), the fade would get scroller along with the other content.  The fades really needed to be siblings of the client so creating them as chrome rather than normal components did the trick (More on chrome in a future post).</p>
<p>Below, I'm creating the ScrollFades component as chrome of the SnapScroller(createChrome = createcomponent with isChrome=true).</p>
<blockquote>
<p>create:function() {<br>    this.inherited(arguments);<br>    this.$.scroller.createComponent({kind:"ScrollFades", name:"fades", isChrome:true, owner:this});<br>},</p>
</blockquote>
<p>Second, I hook scroll events for the Scroller to the showHideFades method of ScrollFades.  The ScrollFades component takes care of determine which fades to show based on the position of the scroller.</p>
<blockquote>
<p>// in the components block ...<br>{kind:"SnapScroller", vertical:false, height:"100px", name:"scroller", onScroll:"scrolled", components:[ /* components */}<br><br>// later on ...<br>scrolled:function(sender) {<br>    this.$.fades.showHideFades(this.$.scroller);<br>}</p>
</blockquote>
<p>And that's it!  If you're looking for some homework, make this into a custom FadeSnapScroller control that encapsulates the fades.  Here's the complete example:</p>
<blockquote>
<p>var _Example = {<br>    name:"com.technisode.example.App",<br>    kind:"Control",<br>    components:[<br>        {kind:"SnapScroller", vertical:false, height:"100px", name:"scroller", onScroll:"scrolled", components:[<br>                {content:"Button 1", style:"margin:10px"},<br>                {content:"Button 2", style:"margin:10px"},<br>                {content:"Button 3", style:"margin:10px"},<br>                {content:"Button 4", style:"margin:10px"},<br>                {content:"Button 5", style:"margin:10px"},<br>                {content:"Button 6", style:"margin:10px"},<br>                {content:"Button 7", style:"margin:10px"},<br>                {content:"Button 8", style:"margin:10px"},<br>                {content:"Button 9", style:"margin:10px"},<br>                {content:"Button 10", style:"margin:10px"},<br>                {content:"Button 11", style:"margin:10px"},<br>                {content:"Button 12", style:"margin:10px"},<br>                {content:"Button 13", style:"margin:10px"},<br>                {content:"Button 14", style:"margin:10px"},<br>                {content:"Button 15", style:"margin:10px"},<br>        ]}<br>    ],<br>    create:function() {<br>        this.inherited(arguments);<br>        this.$.scroller.createComponent({kind:"ScrollFades", name:"fades", isChrome:true, owner:this});<br>    },<br>    scrolled:function(sender) {<br>        this.$.fades.showHideFades(this.$.scroller);<br>    }<br>}<br><br>enyo.kind(_Example);</p>
</blockquote></p>